{% extends 'base.html' %}

{% block title %}Bad Request – Pabulib{% endblock %}
{% block bodyClass %}bg-slate-50{% endblock %}

{% block body %}
<div class="min-h-[60vh] flex items-center justify-center px-4">
  <div class="text-center max-w-2xl">
    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 text-red-700 mb-4">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"/>
      </svg>
    </div>
    <h1 class="text-3xl font-semibold text-slate-900 tracking-tight">
      {% if 'snapshot' in request.path %}
        Invalid Snapshot Link
      {% else %}
        400 – Bad Request
      {% endif %}
    </h1>
    
    {% if error and error.description %}
      <p class="mt-3 text-slate-600">{{ error.description }}</p>
    {% else %}
      <p class="mt-3 text-slate-600">The request was invalid or malformed.</p>
    {% endif %}
    
    {% if path %}
      <p class="mt-2 text-sm text-slate-500">
        Requested URL: <code class="px-1.5 py-0.5 bg-slate-100 rounded border border-slate-200">{{ path }}</code>
      </p>
    {% endif %}

    {% if 'snapshot' in request.path %}
      <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-left">
        <h3 class="text-sm font-medium text-blue-900 mb-2">Valid snapshot links look like:</h3>
        <code class="text-xs text-blue-800 font-mono">
          {{ request.host_url }}download/snapshot/a1b2c3d4e5f67890
        </code>
        <p class="text-xs text-blue-700 mt-2">
          Snapshot IDs are 16 characters long and contain only letters (a-f) and numbers (0-9).
        </p>
      </div>
    {% endif %}
    
    <div class="mt-6">
      <a href="{{ url_for('main.home') }}"
         class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
          <path fill-rule="evenodd" d="M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
        </svg>
        Back to search
      </a>
    </div>
  </div>
</div>
{% endblock %}